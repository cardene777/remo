#: import datetime datetime

<CheckQuestionScreen>:
    BoxLayout:
        canvas:
            Color:
                rgb: get_color_from_hex("#FFFAFA")
            Rectangle:
                size: self.size
                pos: self.pos
        orientation: 'vertical'
        spacing: 30
        padding: [0, 30]


        GridLayout:
            cols: 2
            size_hint_y: .3
            GridLayout:
                canvas:
                    Color:
                        rgb: get_color_from_hex("#6699CC")
                    Rectangle:
                        size: self.size
                        pos: self.pos
                rows: 2
                padding: [0, 30]
                size_hint_y: .7
                GridLayout:
                    cols: 1
                    ImageButton:
                        source: "images/check01.png"
                        on_release:
                            app.change_screen("memo_screen")

                GridLayout:
                    cols: 1
                    size_hint_y: .3
                    font_size: "20sp"
                    Label:
                        text: "メモの復習・確認"

            GridLayout:
                canvas:
                    Color:
                        rgb: get_color_from_hex("#BC8F8F")
                    Rectangle:
                        size: self.size
                        pos: self.pos
                rows: 2
                padding: [0, 30]
                GridLayout:
                    cols: 1
                    ImageButton:
                        source: "images/home04.png"
                        on_release:
                            app.change_screen("home_screen")

                GridLayout:
                    cols: 1
                    size_hint_y: .3
                    font_size: "20sp"
                    Label:
                        text: "ホームに戻る"

        ScrollView:
            GridLayout:
                canvas:
                    Color:
                        rgb: get_color_from_hex("#669999")
                    Rectangle:
                        size: self.size
                        pos: self.pos
                rows: 4
                padding: [0, 30]

                GridLayout:
                    rows: 4
                    GridLayout:
                        cols: 1
                        size_hint_y: .1
                        Label:
                            id: path_id
                            name: "path_id"
                            text: ""
                            font_size: 1
                            color: 0, 0, 0, 0

                    GridLayout:
                        cols: 1
                        size_hint_y: .5
                        Label:
                            id: question_label
                            name: "question_label"
                            text: ""
                            font_size: 50

                    GridLayout:
                        cols: 1
                        size_hint_y: .5
                        Label:
                            id: answer_label
                            name: "answer_label"
                            text: ""
                            font_size: 50
                            color: 0, 0, 0, 0

                    GridLayout:
                        cols: 1
                        size_hint_y: .3
                        padding: [20]
                        Button:
                            id: answer_button
                            name: "answer_button"
                            text_size: self.size
                            text: "回答"
                            font_size: 30
                            halign: 'center'
                            valign: 'middle'
                            background_color: "gray"
                            on_release:
                                answer_label.color =  1, 1, 1, 1


                GridLayout:
                    canvas.after:
                        Color:
                            rgba: 1, 1, 1, 1
                        Line:
                            rectangle: self.x, self.y, self.width, self.height
                    cols: 2
                    size_hint_y: .2
                    GridLayout:
                        canvas.after:
                            Color:
                                rgba: 1, 1, 1, 1
                            Line:
                                rectangle: self.x, self.y, self.width, self.height
                        rows: 2
                        size_hint_y: .2
                        Label:
                            text: "復習回数"
                            font_size: 30

                        Label:
                            id: review_label
                            name: "review_label"
                            text: ""
                            font_size: 30

                    GridLayout:
                        canvas.after:
                            Color:
                                rgba: 1, 1, 1, 1
                            Line:
                                rectangle: self.x, self.y, self.width, self.height
                        rows: 2
                        size_hint_y: .2
                        Label:
                            text: "次回の復習日"
                            font_size: 30

                        Label:
                            id: review_day_label
                            name: "review_day_label"
                            text: ""
                            font_size: 30

        GridLayout:
            canvas:
                Color:
                    rgb: get_color_from_hex("#669999")
                Rectangle:
                    size: self.size
                    pos: self.pos
            rows: 2
            size_hint_y: .3
            GridLayout:
                cols: 2
                Button:
                    id: finish_button
                    name: "finish_button"
                    text: ""
                    on_release:
                        app.check_finish(path_id.text, review_label.text, review_day_label.text, question=question_label.text, answer=answer_label.text)
                Button:
                    id: next_memo
                    name: "next_memo"
                    text: ""
                    on_release:
                        app.check_memo()

            GridLayout:
                cols: 1
                size_hint_y: .5
                Label:
                    id: error_label
                    name: "error_label"
                    font_size: "20sp"
                    color: 1, 0, 0, 1
                    text: ""